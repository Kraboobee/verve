---
import { SITE_TITLE, SITE_DESCRIPTION } from "../../config";
import { getCollection } from "astro:content";
import Layout from "../../layouts/MainLayout.astro";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout title={SITE_TITLE}>
  <main class="max-w-5xl mx-auto my-8 px-3" transition:animate="slide">
    <section>
      <h1 class="text-4xl font-bold mt-16 mb-8 text-center">All Posts</h1>
      <ul class="flex flex-wrap justify-center gap-8">
        {
          posts.map((post) => (
            <li class="lg:w-[calc(50%-1rem)] first:w-full text-center border border-neutral-800">
              <a href={`/blog/${post.slug}/`}>
                <div class="px-3 my-4">
                  <h4 class="text-xl md:text-2xl font-bold">
                    {post.data.title}
                  </h4>
                </div>
              </a>
            </li>
          ))
        }
      </ul>
    </section>
  </main>
</Layout>
